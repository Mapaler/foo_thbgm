#include "SDK/foobar2000.h"
#include "helpers/helpers.h"

static const GUID g_mainmenu_group_id = { 0xb95da62d, 0x74fe, 0x49b9, 
	{ 0xba, 0x8a, 0x9d, 0xf3, 0x70, 0xa, 0xf8, 0x22 } };
static const GUID guid_loop_forever = { 0xf69ffc15, 0x217e, 0x4927,
	{ 0x86, 0x88, 0x58, 0xdb, 0x1c, 0x96, 0xfd, 0xfa } };
static const GUID cfg_loop_forever = { 0x5b0d1577, 0xfce9, 0x45de,
	{ 0x90, 0xb0, 0x4, 0xc6, 0xe4, 0x74, 0xb9, 0xd5 } };
static const GUID guid_loop_count = { 0xf3843cf5, 0x4c41, 0x4887,
	{ 0xb5, 0x18, 0x98, 0x97, 0x5c, 0x91, 0xac, 0xd9 } };
static const GUID cfg_loop_count = { 0x3af32975, 0xfca6, 0x49d1,
	{ 0x86, 0x95, 0x65, 0x50, 0xf, 0xd, 0xe9, 0xee } };
static const GUID guid_thbgm_readinfo ={ 0xd6e4490a, 0xd49, 0x4c22,
	{ 0x95, 0x57, 0x8, 0xd9, 0xe6, 0x4f, 0x8d, 0x80 } };
static const GUID cfg_thbgm_readinfo =  { 0x26439faf, 0xe1f3, 0x4bdf,
	{ 0xb4, 0xda, 0x59, 0x7, 0x1d, 0x9d, 0x8c, 0xf5 } };
static const GUID cfg_thbgm_dump = { 0xbb8dda80, 0xa5d1, 0x11e2,
	{ 0x9e, 0x96, 0x8, 0x0, 0x20, 0x0c, 0x9a, 0x66 } };
static const GUID guid_thbgm_dump = { 0x1a908410, 0xa5d2, 0x11e2,
	{ 0x9e, 0x96, 0x8, 0x0, 0x20, 0x0c, 0x9a, 0x66 } };

char *_InputBox(char *lpWndMsg);

static mainmenu_group_factory g_mainmenu_group(g_mainmenu_group_id, 
	mainmenu_groups::playback, mainmenu_commands::sort_priority_dontcare);
static cfg_bool loopforever(cfg_loop_forever, true);
static cfg_uint loopcount(cfg_loop_count, 1);
static cfg_bool read_thbgm_info(cfg_thbgm_readinfo, false);
static cfg_bool dump_thbgm(cfg_thbgm_dump, false);